<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Search biodegradable polymer samples by attributes">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Biodegradable Polymer Sample Search by Attributes</title>
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">
  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>
<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Biodegradable Polymer Sample Search by Attributes</h1>
          <div class="is-size-5 publication-authors">
            Show me biodegradable polymer samples with the following attributes:
            <br><br>
            <form id="search-form">
              <form id="search-form">
                Polymer Type: 
                <select name="polymer-type" id="polymer-type">
                  <option value="">-- Skip --</option>
                  <option value="cellulose propionate">cellulose propionate</option>
                  <option value="poly(lactic acid)">poly(lactic acid)</option>
                  <option value="poly(butylene succinate) ">poly(butylene succinate) </option>
                  <option value="amylose acetate">amylose acetate</option>
                  <option value=" dextran [N-(2-hydroxypropyl)]carbamate"> dextran [N-(2-hydroxypropyl)]carbamate</option>
                  <option value="dextran">dextran</option>
                  <option value="Polyvinyl alcohol">Polyvinyl alcohol</option>
                  <option value="polyhydroxybutyrate">polyhydroxybutyrate</option>
                  <option value="Octenyl Succinate Starch">Octenyl Succinate Starch</option>
                  <option value="dextran methacrylate">dextran methacrylate</option>
                  <option value="cellulose acetate">cellulose acetate</option>
                  <option value="polyethylene glycols">polyethylene glycols</option>
                  <option value="cellulose">cellulose</option>
                  <option value="dextran dialdehyde">dextran dialdehyde</option>
                  <option value="poly(butylene succinate)">poly(butylene succinate)</option>
                  <option value="EOPO block polymer">EOPO block polymer</option>
                  <option value="Polyethylene glycol">Polyethylene glycol</option>
                  <option value="cellulose acetate butyrate">cellulose acetate butyrate</option>
                  <option value="dextran [N-(2aminoethyl)-N',N'-bis(2-aminoethyl)]carbamate">dextran [N-(2aminoethyl)-N',N'-bis(2-aminoethyl)]carbamate</option>
                  <option value="Polyethylene glycols">Polyethylene glycols</option>
                  <option value="Paramylon">Paramylon</option>
                  <option value="dextrin">dextrin</option>
                  <option value="cellulose laurate">cellulose laurate</option>
                  <option value="poly (butylene succinate)-starch (PBS-starch) blend">poly (butylene succinate)-starch (PBS-starch) blend</option>
                  <option value="Poly(d,l-lactide)">Poly(d,l-lactide)</option>
                  <option value="hydroxypropyl xylan">hydroxypropyl xylan</option>
                  <option value="hydroxyethyl cellulose">hydroxyethyl cellulose</option>
                  <option value="methyl cellulose">methyl cellulose</option>
                  <option value="polycaprolactone">polycaprolactone</option>
                  <option value="chitosan chive root extract">chitosan chive root extract</option>
                  <option value="polyvinyl alcohol">polyvinyl alcohol</option>
                  <option value=" dextran [N-(2-aminoethyl)]carbamate"> dextran [N-(2-aminoethyl)]carbamate</option>
                  <option value="cellulose hexanoate">cellulose hexanoate</option>
                  <option value="dextran decanoate">dextran decanoate</option>
                  <option value="cationic starch">cationic starch</option>
                  <option value="softwood hemicellulose">softwood hemicellulose</option>
                  <option value="BRS30CH70">BRS30CH70</option>
                  <option value="poly(caprolactone)-starch blend">poly(caprolactone)-starch blend</option>
                  <option value="carboxymethyl cellulose">carboxymethyl cellulose</option>
                  <option value="chitosan">chitosan</option>
                  <option value="cellulose butyrate">cellulose butyrate</option>
                  <option value="poly (vinyl alcohol)">poly (vinyl alcohol)</option>
                  <option value="starch acetate">starch acetate</option>
                  <option value=" dextran monosuccinate ester"> dextran monosuccinate ester</option>
                  <option value="cellulose myristate">cellulose myristate</option>
                </select>
                <br>
                Substitution Type:
                <select name="substitution-type" id="substitution-type">
                  <option value="">-- Skip --</option>
                  <option value="decanoate">decanoate</option>
                  <option value="Octenyl Succinate">Octenyl Succinate</option>
                  <option value="methacrylate">methacrylate</option>
                  <option value="carboxymethyl">carboxymethyl</option>
                  <option value="butyrate">butyrate</option>
                  <option value="dialdehyde">dialdehyde</option>
                  <option value="[N-(2aminoethyl)-N',N'-bis(2-aminoethyl)]carbamate">[N-(2aminoethyl)-N',N'-bis(2-aminoethyl)]carbamate</option>
                  <option value="acetate butyrate">acetate butyrate</option>
                  <option value="phenyl ester">phenyl ester</option>
                  <option value="[N-(2-hydroxypropyl)]carbamate">[N-(2-hydroxypropyl)]carbamate</option>
                  <option value="2,3- epoxypropyltrimethylammonium">2,3- epoxypropyltrimethylammonium</option>
                  <option value="laurate">laurate</option>
                  <option value="hydroxypropyl">hydroxypropyl</option>
                  <option value="myristate">myristate</option>
                  <option value="acetate">acetate</option>
                  <option value="monosuccinate ester">monosuccinate ester</option>
                  <option value="methyl">methyl</option>
                  <option value="propionate">propionate</option>
                  <option value="hexanoate">hexanoate</option>
                  <option value="[N-(2-aminoethyl)]carbamate">[N-(2-aminoethyl)]carbamate</option>
                  <option value="dodecyl ester">dodecyl ester</option>
                  <option value="null">null</option>
                  <option value="hydroxyethyl">hydroxyethyl</option>
                </select>
                <br>
                Degree of Substitution:
                <select name="degree-of-substitution" id="degree-of-substitution">
                  <option value="">-- Skip --</option>
                  <option value="0.45">0.45</option>
                  <option value="0.9">0.9</option>
                  <option value="0.7">0.7</option>
                  <option value="0.60">0.60</option>
                  <option value="4.26">4.26</option>
                  <option value="1.85">1.85</option>
                  <option value="1.2">1.2</option>
                  <option value="0.15">0.15</option>
                  <option value="89">89</option>
                  <option value="0.75">0.75</option>
                  <option value="2.11">2.11</option>
                  <option value="0.37">0.37</option>
                  <option value="25">25</option>
                  <option value="0.001">0.001</option>
                  <option value="2.57">2.57</option>
                  <option value="0.2">0.2</option>
                  <option value="0.54">0.54</option>
                  <option value="5.27">5.27</option>
                  <option value="27">27</option>
                  <option value="0.10">0.10</option>
                  <option value="13">13</option>
                  <option value="0.19">0.19</option>
                  <option value="0.55">0.55</option>
                  <option value="1.34">1.34</option>
                  <option value="1.18">1.18</option>
                  <option value="1.84">1.84</option>
                  <option value="0.40">0.40</option>
                  <option value="2.23">2.23</option>
                  <option value="1.77">1.77</option>
                  <option value="0.06">0.06</option>
                  <option value="0.30">0.30</option>
                  <option value="2.07">2.07</option>
                  <option value="1.24">1.24</option>
                  <option value="0.61">0.61</option>
                  <option value="0.04">0.04</option>
                  <option value="80">80</option>
                  <option value="0.03">0.03</option>
                  <option value="8">8</option>
                  <option value="0.23">0.23</option>
                  <option value="0.64">0.64</option>
                  <option value="2.7">2.7</option>
                  <option value="1.6">1.6</option>
                  <option value="0.20">0.20</option>
                  <option value="null">null</option>
                  <option value="150">150</option>
                  <option value="0.13">0.13</option>
                  <option value="1.20">1.20</option>
                  <option value="0.002">0.002</option>
                  <option value="0.98">0.98</option>
                  <option value="21">21</option>
                  <option value="1.4">1.4</option>
                  <option value="0.14">0.14</option>
                  <option value="0.5">0.5</option>
                  <option value="1.11">1.11</option>
                  <option value="2.44">2.44</option>
                  <option value="0.05">0.05</option>
                  <option value="1.48">1.48</option>
                  <option value="0.69">0.69</option>
                  <option value="0.1">0.1</option>
                  <option value="2.3">2.3</option>
                  <option value="3.25">3.25</option>
                  <option value="15">15</option>
                  <option value="1.7">1.7</option>
                  <option value="4">4</option>
                  <option value="3.58">3.58</option>
                  <option value="1">1</option>
                  <option value="0.96">0.96</option>
                  <option value="1.03">1.03</option>
                  <option value="1.95">1.95</option>
                  <option value="0.4">0.4</option>
                  <option value="2">2</option>
                  <option value="0.6">0.6</option>
                  <option value="0.3">0.3</option>
                  <option value="2.27">2.27</option>
                  <option value="1.68">1.68</option>
                  <option value="1.8">1.8</option>
                  <option value="37">37</option>
                </select>
                <br><br>
                <button type="submit">Search</button>
                Comonomer Type:
                <select name="comonomer-type" id="comonomer-type">
                  <option value="">-- Skip --</option>
                  <!-- Add options for Comonomer Type -->
                </select>
                <br>
                Molecular Weight:
                <select name="molecular-weight" id="molecular-weight">
                  <option value="">-- Skip --</option>
                  <!-- Add options for Molecular Weight -->
                </select>
                <br>
                Degree of Hydrolysis:
                <select name="degree-of-hydrolysis" id="degree-of-hydrolysis">
                  <option value="">-- Skip --</option>
                  <!-- Add options for Degree of Hydrolysis -->
                </select>
                <br><br>
                <button type="submit">Search</button>
            </form>
            <div id="search-results"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Event listener for form submission
  document.getElementById('search-form').addEventListener('submit', function(event) {
    event.preventDefault();
    console.log('Search form submitted');

    const polymerType = document.querySelector('select[name="polymer-type"]').value;
    const substitutionType = document.querySelector('select[name="substitution-type"]').value;
    const degreeOfSubstitution = document.querySelector('select[name="degree-of-substitution"]').value;
    const comonomerType = document.querySelector('select[name="comonomer-type"]').value;
    const molecularWeight = document.querySelector('select[name="molecular-weight"]').value;
    const degreeOfHydrolysis = document.querySelector('select[name="degree-of-hydrolysis"]').value;

    // Perform search based on selected values
    searchPolymerSamples(polymerType, substitutionType, degreeOfSubstitution, comonomerType, molecularWeight, degreeOfHydrolysis);
  });

  // Function to search polymer samples based on selected values
  function searchPolymerSamples(polymerType, substitutionType, degreeOfSubstitution, comonomerType, molecularWeight, degreeOfHydrolysis) {
    const jsonDirectory = './static/json_files/';
    console.log('Searching polymer samples');

    // Load the list of JSON files
    fetch(jsonDirectory + 'file_list.json')
      .then(response => response.json())
      .then(fileList => {
        console.log('File list loaded:', fileList);
        const jsonFiles = fileList.map(fileName => jsonDirectory + fileName);

        // Fetch all JSON files
        Promise.all(jsonFiles.map(file => fetch(file)))
          .then(responses => Promise.all(responses.map(response => response.json())))
          .then(data => {
            console.log('JSON files loaded:', data);
            const filteredFiles = data.filter(file => {
              // Filter conditions
              const polymerTypeMatch = !polymerType || file['Polymer Type'] === polymerType;
              const substitutionTypeMatch = !substitutionType || file['Substitution Type'] === substitutionType;
              const degreeOfSubstitutionMatch = !degreeOfSubstitution || file['Degree of Substitution'] === degreeOfSubstitution;
              const comonomerTypeMatch = !comonomerType || file['Comonomer Type'] === comonomerType;
              const molecularWeightMatch = !molecularWeight || file['Molecular Weight'] === molecularWeight;
              const degreeOfHydrolysisMatch = !degreeOfHydrolysis || file['Degree of Hydrolysis'] === degreeOfHydrolysis;

              return polymerTypeMatch && substitutionTypeMatch && degreeOfSubstitutionMatch && comonomerTypeMatch && molecularWeightMatch && degreeOfHydrolysisMatch;
            });

            console.log('Filtered files:', filteredFiles);
            displaySearchResults(filteredFiles);
          })
          .catch(error => {
            console.error('Error fetching JSON files:', error);
          });
      })
      .catch(error => {
        console.error('Error fetching file list:', error);
      });
  }

  // Function to display search results
  function displaySearchResults(files) {
    console.log('Displaying search results');
    const searchResultsDiv = document.getElementById('search-results');
    searchResultsDiv.innerHTML = '';

    if (files.length === 0) {
      searchResultsDiv.innerHTML = 'No matching polymer samples found.';
    } else {
      const resultsList = document.createElement('ul');
      files.forEach(file => {
        const listItem = document.createElement('li');
        listItem.textContent = JSON.stringify(file);
        resultsList.appendChild(listItem);
      });
      searchResultsDiv.appendChild(resultsList);
    }
  }
</script>

</body>
</html>